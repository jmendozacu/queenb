<?php eval(base64_decode("Y2xhc3MgQml6dGVjaF9BdXNwb3N0X0hlbHBlcl9EYXRhIGV4dGVuZHMgTWFnZV9Db3JlX0hlbHBlcl9BYnN0cmFjdAogICAgewogICAgICAgIHB1YmxpYyBmdW5jdGlvbiBidWlsZEh0dHBRdWVyeSgkcXVlcnkpCiAgICAgICAgewogICAgICAgICAgICAkcXVlcnlfYXJyYXkgPSBhcnJheSgpOwogICAgICAgICAgICBmb3JlYWNoKCRxdWVyeSBhcyAka2V5ID0+ICRrZXlfdmFsdWUpCiAgICAgICAgICAgICAgICAkcXVlcnlfYXJyYXlbXSA9ICRrZXkgLiAnPScgLiB1cmxlbmNvZGUoICRrZXlfdmFsdWUgKTsKICAgICAgICAgICAgcmV0dXJuIGltcGxvZGUoICcmJywgJHF1ZXJ5X2FycmF5ICk7CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgZnVuY3Rpb24gcGFyc2VYbWwoJHhtbFN0cmluZykKICAgICAgICB7CiAgICAgICAgICAgIGxpYnhtbF91c2VfaW50ZXJuYWxfZXJyb3JzKHRydWUpOwogICAgICAgICAgICAkeG1sT2JqZWN0ID0gc2ltcGxleG1sX2xvYWRfc3RyaW5nKCR4bWxTdHJpbmcpOwogICAgICAgICAgICAkcmVzdWx0ID0gYXJyYXkgKCk7CiAgICAgICAgICAgIGlmICghZW1wdHkoJHhtbE9iamVjdCkpCiAgICAgICAgICAgICAgICAkdGhpcy0+Y29udmVydFhtbE9ialRvQXJyKCR4bWxPYmplY3QsICRyZXN1bHQpOwogICAgICAgICAgICByZXR1cm4gJHJlc3VsdDsKICAgICAgICB9CgogICAgICAgIHB1YmxpYyBmdW5jdGlvbiBjb252ZXJ0WG1sT2JqVG9BcnIoJG9iaiwgJiRhcnIpCiAgICAgICAgewogICAgICAgICAgICAkY2hpbGRyZW4gPSAkb2JqLT5jaGlsZHJlbigpOwogICAgICAgICAgICAkZXhlY3V0ZWQgPSBmYWxzZTsKICAgICAgICAgICAgZm9yZWFjaCAoJGNoaWxkcmVuIGFzICRlbGVtZW50TmFtZSA9PiAkbm9kZSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgaWYoaXNfYXJyYXkoJGFycikgJiYgYXJyYXlfa2V5X2V4aXN0cyggJGVsZW1lbnROYW1lICwgJGFyciApICkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpZihpc19hcnJheSgkYXJyWyRlbGVtZW50TmFtZV0pJiYgYXJyYXlfa2V5X2V4aXN0cyggMCAsJGFyclskZWxlbWVudE5hbWVdICkgKQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgJGkgPSBjb3VudCgkYXJyWyRlbGVtZW50TmFtZV0pOwogICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy0+Y29udmVydFhtbE9ialRvQXJyICgkbm9kZSwgJGFyclskZWxlbWVudE5hbWVdWyRpXSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICR0bXAgPSAkYXJyWyRlbGVtZW50TmFtZV07CiAgICAgICAgICAgICAgICAgICAgICAgICRhcnJbJGVsZW1lbnROYW1lXSA9IGFycmF5KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICRhcnJbJGVsZW1lbnROYW1lXVswXSA9ICR0bXA7CiAgICAgICAgICAgICAgICAgICAgICAgICRpID0gY291bnQoJGFyclskZWxlbWVudE5hbWVdKTsKICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPmNvbnZlcnRYbWxPYmpUb0Fycigkbm9kZSwgJGFyclskZWxlbWVudE5hbWVdWyRpXSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICRhcnJbJGVsZW1lbnROYW1lXSA9IGFycmF5KCk7CiAgICAgICAgICAgICAgICAgICAgJHRoaXMtPmNvbnZlcnRYbWxPYmpUb0Fycigkbm9kZSwgJGFyclskZWxlbWVudE5hbWVdKTsgICAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICRleGVjdXRlZCA9IHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYoISRleGVjdXRlZCYmJGNoaWxkcmVuLT5nZXROYW1lKCk9PSIiKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkYXJyID0gKFN0cmluZykkb2JqOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiA7CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgZnVuY3Rpb24gYXVzUG9zdFZhbGlkYXRpb24oJHVybCwgJGhlYWRlcnMgPSBhcnJheSAoKSwgJGF1dGggPSB0cnVlKSAKICAgICAgICB7CiAgICAgICAgICAgICRhcGlfa2V5ICA9IE1hZ2U6OmdldFN0b3JlQ29uZmlnKCdjYXJyaWVycy9hdXNwb3N0L2F1c3Bvc3RfYXBpX2tleScpOwogICAgICAgICAgICAkY2ggPSBjdXJsX2luaXQoKTsKICAgICAgICAgICAgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX1VSTCwkdXJsKTsKICAgICAgICAgICAgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX1NTTF9WRVJJRllQRUVSLCBmYWxzZSk7CiAgICAgICAgICAgIGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9IVFRQSEVBREVSLCBhcnJheSgKICAgICAgICAgICAgICAgICAgICAnQXV0aC1LZXk6ICcgLiAkYXBpX2tleQogICAgICAgICAgICAgICAgKSk7CiAgICAgICAgICAgIGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9SRVRVUk5UUkFOU0ZFUiwgMSk7CiAgICAgICAgICAgICRjb250ZW50cyA9IGN1cmxfZXhlYyAoJGNoKTsKICAgICAgICAgICAgY3VybF9jbG9zZSAoJGNoKTsKICAgICAgICAgICAgcmV0dXJuICRjb250ZW50czsKICAgICAgICB9CgoKICAgICAgICBwdWJsaWMgZnVuY3Rpb24gZ2V0QWxsU3RvcmVEb21haW5zKCkgewogICAgICAgICAgICAkZG9tYWlucyA9IGFycmF5KCk7CiAgICAgICAgICAgIGZvcmVhY2ggKE1hZ2U6OmFwcCgpLT5nZXRXZWJzaXRlcygpIGFzICR3ZWJzaXRlKSB7CiAgICAgICAgICAgICAgICAkdXJsID0gJHdlYnNpdGUtPmdldENvbmZpZygnd2ViL3Vuc2VjdXJlL2Jhc2VfdXJsJyk7CiAgICAgICAgICAgICAgICBpZiAoJGRvbWFpbiA9IHRyaW0ocHJlZ19yZXBsYWNlKCcvXi4qP1wvXC8oLiopP1wvLycsICckMScsICR1cmwpKSkgewogICAgICAgICAgICAgICAgICAgICRkb21haW5zW10gPSAkZG9tYWluOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgJHVybCA9ICR3ZWJzaXRlLT5nZXRDb25maWcoJ3dlYi9zZWN1cmUvYmFzZV91cmwnKTsKICAgICAgICAgICAgICAgIGlmICgkZG9tYWluID0gdHJpbShwcmVnX3JlcGxhY2UoJy9eLio/XC9cLyguKik/XC8vJywgJyQxJywgJHVybCkpKSB7CiAgICAgICAgICAgICAgICAgICAgJGRvbWFpbnNbXSA9ICRkb21haW47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIGFycmF5X3VuaXF1ZSgkZG9tYWlucyk7CiAgICAgICAgfQoKCiAgICAgICAgcHVibGljIGZ1bmN0aW9uIGNoZWNrS2V5KCRrLCRzID0gJycpeyAgICAKICAgICAgICAgICAgJGNoID0gY3VybF9pbml0KCk7CiAgICAgICAgICAgIGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9VUkwsIHNwcmludGYoJ2h0dHA6Ly9zdG9yZS5iaXp0ZWNoY29uc3VsdGFuY3kuY29tL2V4dGVuc2lvbi9saWNlbmNlLnBocCcpKTsKICAgICAgICAgICAgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX1BPU1QsIHRydWUpOwogICAgICAgICAgICBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfUE9TVEZJRUxEUywgJ2tleT0nLnVybGVuY29kZSgkaykuJyZkb21haW5zPScudXJsZW5jb2RlKGltcGxvZGUoJywnLCAkdGhpcy0+Z2V0QWxsU3RvcmVEb21haW5zKCkpKS4nJnNlYz1hdXN0cmFsaWFucG9zdCcpOwogICAgICAgICAgICBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfVElNRU9VVCwgMzApOwogICAgICAgICAgICBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfUkVUVVJOVFJBTlNGRVIsIHRydWUpOwogICAgICAgICAgICBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfU1NMX1ZFUklGWVBFRVIsIDApOwogICAgICAgICAgICBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfU1NMX1ZFUklGWUhPU1QsIDApOwogICAgICAgICAgICAkY29udGVudCA9IGN1cmxfZXhlYygkY2gpOwogICAgICAgICAgICAkcmVzID0gWmVuZF9Kc29uOjpkZWNvZGUoJGNvbnRlbnQpOwogICAgICAgICAgICAkbW9kdWxlc3RhdHVzID0gbmV3IE1hZ2VfQ29yZV9Nb2RlbF9Db25maWcoKTsKICAgICAgICAgICAgJGVuYyA9IE1hZ2U6OmhlbHBlcignY29yZScpOyAgICAgIAogICAgICAgICAgICBpZihlbXB0eSgkcmVzKSl7CiAgICAgICAgICAgICAgICAkbW9kdWxlc3RhdHVzLT5zYXZlQ29uZmlnKCdhdXNwb3N0L2FjdGl2YXRpb24va2V5JywgIiIpOwogICAgICAgICAgICAgICAgJG1vZHVsZXN0YXR1cy0+c2F2ZUNvbmZpZygnY2FycmllcnMvYXVzcG9zdC9hY3RpdmUnLCAwKTsKICAgICAgICAgICAgICAgICRkYXRhID0gTWFnZTo6Z2V0U3RvcmVDb25maWcoJ2F1c3Bvc3QvYWN0aXZhdGlvbi9kYXRhJyk7CiAgICAgICAgICAgICAgICAkZ3JvdXBzID0gYXJyYXkoCiAgICAgICAgICAgICAgICAgICAgJ2FjdGl2YXRpb24nPT5hcnJheSgKICAgICAgICAgICAgICAgICAgICAgICAgJ2ZpZWxkcyc9PmFycmF5KAogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RhdGEnPT5hcnJheSgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndmFsdWUnPT4kZGF0YQogICAgICAgICAgICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICd3ZWJzaXRlcyc9PmFycmF5KAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd2YWx1ZSc9PicnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICApICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgTWFnZTo6Z2V0TW9kZWwoJ2FkbWluaHRtbC9jb25maWdfZGF0YScpCiAgICAgICAgICAgICAgICAtPnNldFNlY3Rpb24oJ2F1c3Bvc3QnKQogICAgICAgICAgICAgICAgLT5zZXRHcm91cHMoJGdyb3VwcykKICAgICAgICAgICAgICAgIC0+c2F2ZSgpOwogICAgICAgICAgICAgICAgTWFnZTo6Z2V0Q29uZmlnKCktPnJlaW5pdCgpOwogICAgICAgICAgICAgICAgTWFnZTo6YXBwKCktPnJlaW5pdFN0b3JlcygpOyAgCiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgJGRhdGEgPSAnJzsKICAgICAgICAgICAgJHdlYiAgPSAnJzsgIAogICAgICAgICAgICAkZW4gICA9ICcnOyAgIAoKICAgICAgICAgICAgaWYoaXNzZXQoJHJlc1snZG9tJ10pICYmIGludHZhbCgkcmVzWydjJ10pID4gMCAmJiAgaW50dmFsKCRyZXNbJ3N1YyddKSA9PSAxKXsKICAgICAgICAgICAgICAgICRkYXRhID0gJGVuYy0+ZW5jcnlwdChiYXNlNjRfZW5jb2RlKFplbmRfSnNvbjo6ZW5jb2RlKCRyZXMpKSk7CiAgICAgICAgICAgICAgICBpZiAoISRzKQogICAgICAgICAgICAgICAgeyAKICAgICAgICAgICAgICAgICAgICAkcGFyYW1zID0gIE1hZ2U6OmFwcCgpLT5nZXRSZXF1ZXN0KCktPmdldFBhcmFtKCdncm91cHMnKTsKICAgICAgICAgICAgICAgICAgICBpZihpc3NldCgkcGFyYW1zWydhY3RpdmF0aW9uJ11bJ2ZpZWxkcyddWyd3ZWJzaXRlcyddWyd2YWx1ZSddKSl7CiAgICAgICAgICAgICAgICAgICAgICAgICRzID0gJHBhcmFtc1snYWN0aXZhdGlvbiddWydmaWVsZHMnXVsnd2Vic2l0ZXMnXVsndmFsdWUnXTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAkZW4gPSAkcmVzWydzdWMnXTsKICAgICAgICAgICAgICAgIGlmKGlzc2V0KCRzKSAmJiAkcyAhPSBudWxsKXsKICAgICAgICAgICAgICAgICAgICAkd2ViID0gJGVuYy0+ZW5jcnlwdCgkZGF0YS5pbXBsb2RlKCcsJywgJHMpLiRkYXRhKTsKICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgICR3ZWIgPSAkZW5jLT5lbmNyeXB0KCRkYXRhLiRkYXRhKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICRtb2R1bGVzdGF0dXMtPnNhdmVDb25maWcoJ2F1c3Bvc3QvYWN0aXZhdGlvbi9rZXknLCAiIik7CiAgICAgICAgICAgICAgICAkbW9kdWxlc3RhdHVzLT5zYXZlQ29uZmlnKCdjYXJyaWVycy9hdXNwb3N0L2FjdGl2ZScsIDApOwoKICAgICAgICAgICAgfQogICAgICAgICAgICAkZ3JvdXBzID0gYXJyYXkoCiAgICAgICAgICAgICAgICAnYWN0aXZhdGlvbic9PmFycmF5KAogICAgICAgICAgICAgICAgICAgICdmaWVsZHMnPT5hcnJheSgKICAgICAgICAgICAgICAgICAgICAgICAgJ2RhdGEnPT5hcnJheSgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICd2YWx1ZSc9PiRkYXRhCiAgICAgICAgICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICAgICAgICAgICd3ZWJzaXRlcyc9PmFycmF5KAogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3ZhbHVlJz0+KHN0cmluZykkd2ViCiAgICAgICAgICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICAgICAgICAgICdlbic9PmFycmF5KAogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3ZhbHVlJz0+JGVuCiAgICAgICAgICAgICAgICAgICAgICAgICksCgogICAgICAgICAgICAgICAgICAgICAgICAnaW5zdGFsbGVkJz0+YXJyYXkoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAndmFsdWUnPT4xCiAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICk7CiAgICAgICAgICAgIE1hZ2U6OmdldE1vZGVsKCdhZG1pbmh0bWwvY29uZmlnX2RhdGEnKQogICAgICAgICAgICAtPnNldFNlY3Rpb24oJ2F1c3Bvc3QnKQogICAgICAgICAgICAtPnNldEdyb3VwcygkZ3JvdXBzKQogICAgICAgICAgICAtPnNhdmUoKTsKICAgICAgICAgICAgTWFnZTo6Z2V0Q29uZmlnKCktPnJlaW5pdCgpOwogICAgICAgICAgICBNYWdlOjphcHAoKS0+cmVpbml0U3RvcmVzKCk7ICAKICAgICAgICB9CgogICAgICAgIHB1YmxpYyBmdW5jdGlvbiBnZXREYXRhSW5mbygpCiAgICAgICAgewogICAgICAgICAgICAkZGF0YSA9IE1hZ2U6OmdldFN0b3JlQ29uZmlnKCdhdXNwb3N0L2FjdGl2YXRpb24vZGF0YScpOwogICAgICAgICAgICByZXR1cm4gWmVuZF9Kc29uOjpkZWNvZGUoYmFzZTY0X2RlY29kZShNYWdlOjpoZWxwZXIoJ2NvcmUnKS0+ZGVjcnlwdCgkZGF0YSkpKTsKICAgICAgICB9CgogICAgICAgIHB1YmxpYyBmdW5jdGlvbiBnZXRBbGxXZWJzaXRlcygpewoKICAgICAgICAgICAgaWYoIU1hZ2U6OmdldFN0b3JlQ29uZmlnKCdhdXNwb3N0L2FjdGl2YXRpb24vaW5zdGFsbGVkJykpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHJldHVybiBhcnJheSgpOwogICAgICAgICAgICB9CiAgICAgICAgICAgICRkYXRhID0gTWFnZTo6Z2V0U3RvcmVDb25maWcoJ2F1c3Bvc3QvYWN0aXZhdGlvbi9kYXRhJyk7CiAgICAgICAgICAgICR3ZWIgPSBNYWdlOjpnZXRTdG9yZUNvbmZpZygnYXVzcG9zdC9hY3RpdmF0aW9uL3dlYnNpdGVzJyk7CiAgICAgICAgICAgICR3ZWJzaXRlcyA9IGV4cGxvZGUoJywnLCBzdHJfcmVwbGFjZSgkZGF0YSwgJycsIE1hZ2U6OmhlbHBlcignY29yZScpLT5kZWNyeXB0KCR3ZWIpKSk7CiAgICAgICAgICAgICR3ZWJzaXRlcyA9IGFycmF5X2RpZmYoJHdlYnNpdGVzLCBhcnJheSgiIikpOwogICAgICAgICAgICByZXR1cm4gJHdlYnNpdGVzOwogICAgICAgIH0KCiAgICAgICAgcHVibGljIGZ1bmN0aW9uIGdldEZvcm1hdFVybCgkdXJsKQogICAgICAgIHsKICAgICAgICAgICAgJGlucHV0ID0gdHJpbSgkdXJsLCAnLycpOwogICAgICAgICAgICBpZiAoIXByZWdfbWF0Y2goJyNeaHR0cChzKT86Ly8jJywgJGlucHV0KSkgewogICAgICAgICAgICAgICAgJGlucHV0ID0gJ2h0dHA6Ly8nIC4gJGlucHV0OwogICAgICAgICAgICB9CiAgICAgICAgICAgICR1cmxQYXJ0cyA9IHBhcnNlX3VybCgkaW5wdXQpOwogICAgICAgICAgICBpZihpc3NldCgkdXJsUGFydHNbJ3BhdGgnXSkpewogICAgICAgICAgICAgICAgJGRvbWFpbiAgID0gcHJlZ19yZXBsYWNlKCcvXnd3d1wuLycsICcnLCAkdXJsUGFydHNbJ2hvc3QnXS4kdXJsUGFydHNbJ3BhdGgnXSk7ICAgIAogICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICRkb21haW4gICA9IHByZWdfcmVwbGFjZSgnL153d3dcLi8nLCAnJywgJHVybFBhcnRzWydob3N0J10pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiAkZG9tYWluOwogICAgICAgIH0KCiAgICAgICAgcHVibGljIGZ1bmN0aW9uIGlzRW5hYmxlKCkKICAgICAgICB7ICAgICAgICAgICAgICAgIAogICAgICAgICAgICAkd2Vic2l0ZUlkID0gTWFnZTo6YXBwKCktPmdldFdlYnNpdGUoKS0+Z2V0SWQoKSA7IAogICAgICAgICAgICAkaXNlbmFibGVkID0gTWFnZTo6Z2V0U3RvcmVDb25maWcoJ2NhcnJpZXJzL2F1c3Bvc3QvYWN0aXZlJyk7CiAgICAgICAgICAgIGlmKCRpc2VuYWJsZWQpewogICAgICAgICAgICAgICAgaWYoJHdlYnNpdGVJZCl7CiAgICAgICAgICAgICAgICAgICAgJHdlYnNpdGVzID0gJHRoaXMtPmdldEFsbFdlYnNpdGVzKCk7CiAgICAgICAgICAgICAgICAgICAgJGtleSAgICAgID0gTWFnZTo6Z2V0U3RvcmVDb25maWcoJ2F1c3Bvc3QvYWN0aXZhdGlvbi9rZXknKTsKICAgICAgICAgICAgICAgICAgICBpZigka2V5ID09IG51bGwgfHwgJGtleSA9PSAnJykKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsgCiAgICAgICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgICAgICRlbiA9IE1hZ2U6OmdldFN0b3JlQ29uZmlnKCdhdXNwb3N0L2FjdGl2YXRpb24vZW4nKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoJGlzZW5hYmxlZCAmJiAkZW4gJiYgaW5fYXJyYXkoJHdlYnNpdGVJZCwgJHdlYnNpdGVzKSkKICAgICAgICAgICAgICAgICAgICAgICAgeyByZXR1cm4gdHJ1ZTsgfSBlbHNlIHsgcmV0dXJuIGZhbHNlOyB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZXsKICAgICAgICAgICAgICAgICAgICAkZW4gPSBNYWdlOjpnZXRTdG9yZUNvbmZpZygnYXVzcG9zdC9hY3RpdmF0aW9uL2VuJyk7CiAgICAgICAgICAgICAgICAgICAgaWYoJGlzZW5hYmxlZCAmJiAkZW4pe3JldHVybiB0cnVlO30KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0="));